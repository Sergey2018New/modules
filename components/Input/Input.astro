---
interface Props {
    type?: "text" | "email" | "textarea" | "datepicker" | "phone";
    name?: string;
    placeholder?: string;
    value?: string;
    ariaLabel?: string;
    class?: string;
    [x: string]: any;
}

const {
    type = "text",
    name,
    placeholder,
    value,
    ariaLabel,
    class: className,
    ...rest
} = Astro.props;

const inputClass = type == 'textarea' ? `ui-textarea` : `ui-input`;
const inputClassPhone = `${inputClass}-phone`;
const inputClassDatepicker = `${inputClass}-datepicker`;

const classList = [
    inputClass,
    className,
    {...rest}
];

---
{type === 'textarea' ?
    <textarea
        class:list={classList}
        name={name}
        placeholder={placeholder}
        value={value}
        aria-label={ariaLabel}
        {...rest}
    ></textarea>  : ''
}

{(type === 'text' || type === 'email') ?
<input
    class:list={classList}
    type={type}
    name={name}
    placeholder={placeholder}
    value={value}
    aria-label={ariaLabel}
    {...rest}
/> : ''}

{type === 'phone' ?
<input
    class:list={[
        inputClass,
        inputClassPhone,
        className,
    ]}
    type={'text'}
    name={name}
    placeholder={placeholder}
    value={value}
    aria-label={ariaLabel}
    {...rest}
/> : ''}

{type == 'datepicker' ?
<input
    class:list={[
        inputClass,
        inputClassDatepicker,
        className,
    ]}
    type={'text'}
    name={name}
    placeholder={placeholder}
    value={value}
    autocomplete="off"
    data-datepicker
    aria-label={ariaLabel}
    {...rest}
/> : ''}
